# Production Environment Configuration
# Copy this file to .env.production and update the values

# MongoDB Configuration
MONGODB_URI=mongodb://admin:changeme@mongodb:27017/traycer_try?authSource=admin
MONGODB_DB=traycer_try
MONGODB_MAX_POOL_SIZE=20
MONGODB_MIN_POOL_SIZE=5
MONGODB_MAX_IDLE_TIME_MS=30000
MONGODB_SERVER_SELECTION_TIMEOUT_MS=5000
MONGODB_CONNECT_TIMEOUT_MS=10000

# Google Gemini API (Required for AI functionality)
GEMINI_API_KEY=your_gemini_api_key_here

# Gemini Configuration
GEMINI_TEMPERATURE=0.1
GEMINI_MAX_TOKENS=1000
GEMINI_MAX_CONTENT_LENGTH=4000
GEMINI_MAX_SIMILARITY_CONTENT_LENGTH=1000

# Agent Configuration
AGENT_TIMEOUT_SECONDS=30
PARSER_TIMEOUT_SECONDS=45
CATEGORIZER_TIMEOUT_SECONDS=30
PROCESSOR_TIMEOUT_SECONDS=60
AGENT_MAX_RETRIES=3
AGENT_CONFIDENCE_THRESHOLD=0.7

# Scraper Configuration
SCRAPER_CONCURRENCY=5
SCRAPER_REQUEST_TIMEOUT_SECONDS=20
SCRAPER_DELAY_SECONDS=1.0
SCRAPER_USER_AGENT=TrayceAI-Bot/1.0
SCRAPER_RESPECT_ROBOTS=true
SCRAPER_MAX_RETRIES=3
SCRAPER_MAX_REDIRECTS=5
SCRAPER_CONTENT_SIZE_LIMIT=10485760

# Processing Configuration
PROCESSING_TIMEOUT_SECONDS=60
PROCESSING_MAX_RETRIES=2
PROCESSING_CONCURRENCY=3
ENABLE_CONTENT_CLEANING=true
ENABLE_AI_ANALYSIS=true
ENABLE_SUMMARIZATION=true
ENABLE_STRUCTURED_EXTRACTION=true
ENABLE_DUPLICATE_DETECTION=true
SIMILARITY_THRESHOLD=0.8
MIN_CONTENT_QUALITY_SCORE=0.4
MAX_SUMMARY_LENGTH=500
PROCESSING_BATCH_SIZE=10
CONTENT_PROCESSING_TIMEOUT=30
MAX_CONCURRENT_AI_ANALYSES=3
MAX_PROCESSING_MEMORY=512
PROCESSING_MAX_SIMILARITY_CONTENT_PAIRS=50
PROCESSING_MAX_SIMILARITY_BATCH_SIZE=10

# Database Configuration
DATABASE_QUERY_TIMEOUT_SECONDS=30
DATABASE_MAX_RETRIES=3
DATABASE_BATCH_SIZE=100
DATABASE_ENABLE_TEXT_SEARCH=true
DATABASE_CONTENT_TTL_DAYS=90
DATABASE_ENABLE_CONTENT_TTL=false
DATABASE_ANALYTICS_RETENTION_DAYS=365
DATABASE_ENABLE_CACHING=true
DATABASE_CACHE_TTL_SECONDS=3600
DATABASE_MAX_CONTENT_SIZE_MB=50
DATABASE_ENABLE_COMPRESSION=true
DATABASE_INDEX_BACKGROUND=true
DATABASE_ENABLE_PROFILING=false

# Health Check Settings
HEALTH_AGENT_TEST_TIMEOUT=5
HEALTH_PROCESSING_TEST_TIMEOUT=8

# API Configuration
API_REQUEST_TIMEOUT_SECONDS=300
API_MAX_QUERY_LENGTH=1000
API_MAX_RESULTS_PER_REQUEST=50
API_ENABLE_REQUEST_LOGGING=true
API_ENABLE_ANALYTICS_TRACKING=true
API_RATE_LIMIT_REQUESTS_PER_MINUTE=60
API_ENABLE_DETAILED_ERRORS=false
API_ENABLE_PROGRESS_TRACKING=true
API_DEFAULT_PROCESSING_CONFIG=true
API_ENABLE_DATABASE_STORAGE=true

# Application Settings
ENVIRONMENT=production
LOG_LEVEL=INFO
DEBUG=false
SECRET_KEY=change_me_in_production_to_a_secure_random_string

# CORS Settings
ALLOWED_ORIGINS=https://yourdomain.com,https://api.yourdomain.com

# Authentication Configuration
API_AUTH_ENABLED=true
# API Keys format: key:name:permissions (comma-separated)
# Example: traycer_abc123:production:read,scrape,traycer_def456:admin:admin
API_KEYS=traycer_abc123:production:read,scrape,traycer_def456:admin:admin
API_KEY_RATE_LIMIT_PER_MINUTE=120
API_PUBLIC_ENDPOINTS=/health,/docs,/redoc,/openapi.json,/

# Cache Configuration
CACHE_ENABLED=true
CACHE_TTL_SECONDS=300
CACHE_MAX_SIZE=1000
CACHE_RESPONSE_ENABLED=true

# Logging Configuration
LOG_FORMAT=json
LOG_FILE=/app/logs/app.log
LOG_MAX_BYTES=10485760
LOG_BACKUP_COUNT=5
LOG_REQUEST_BODY=false
LOG_RESPONSE_BODY=false

# Monitoring Configuration
METRICS_ENABLED=true
METRICS_EXPORT_FORMAT=prometheus
HEALTH_CHECK_INTERVAL_SECONDS=60

# Production Configuration
WORKERS=4
MAX_CONNECTIONS=1000
TRUSTED_HOSTS=*
ENABLE_COMPRESSION=true

# MongoDB Password (for docker-compose)
MONGODB_PASSWORD=changeme

# Mongo Express (Optional - for development)
MONGO_EXPRESS_USER=admin
MONGO_EXPRESS_PASSWORD=admin
